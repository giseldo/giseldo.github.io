<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2&nbsp; ELIZA e AIML – Construindo Chatbots</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../sections/6_processamento-de-linguagem-natural-pln-cap-pln.html" rel="next">
<link href="../sections/4_introdu-o.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-d9ea66fcd6c317012447f26e9c021348.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../sections/5_eliza-e-aiml-cap-eliza.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">ELIZA e AIML</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Construindo Chatbots</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bem vindo</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/1_pref-cio-pref-cio-unnumbered.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prefácio</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/2_informa-es-informa-es-unnumbered.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Informações</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/3_resumo-resumo-unnumbered.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Resumo</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/4_introdu-o.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introdução</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/5_eliza-e-aiml-cap-eliza.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">ELIZA e AIML</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/6_processamento-de-linguagem-natural-pln-cap-pln.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Processamento de Linguagem Natural (PLN)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/7_modelos-de-linguagem-grande-llm-cap-llm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Modelos de Linguagem Grande (LLM)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/8_conclus-o-conclusao.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Conclusão</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/9_agradecimentos-agradecimentos-unnumbered.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Agradecimentos</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sections/10_sobre-os-autores-sobre-os-autores-unnumbered.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sobre os autores</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introdução" id="toc-introdução" class="nav-link active" data-scroll-target="#introdução"><span class="header-section-number">2.1</span> Introdução</a></li>
  <li><a href="#processamento" id="toc-processamento" class="nav-link" data-scroll-target="#processamento"><span class="header-section-number">2.2</span> Processamento</a></li>
  <li><a href="#regras-de-transformação" id="toc-regras-de-transformação" class="nav-link" data-scroll-target="#regras-de-transformação"><span class="header-section-number">2.3</span> Regras de Transformação</a></li>
  <li><a href="#implementação-e-variações" id="toc-implementação-e-variações" class="nav-link" data-scroll-target="#implementação-e-variações"><span class="header-section-number">2.4</span> Implementação e Variações</a></li>
  <li><a href="#mecanismo-de-pesos" id="toc-mecanismo-de-pesos" class="nav-link" data-scroll-target="#mecanismo-de-pesos"><span class="header-section-number">2.5</span> Mecanismo de Pesos</a></li>
  <li><a href="#geração-de-texto" id="toc-geração-de-texto" class="nav-link" data-scroll-target="#geração-de-texto"><span class="header-section-number">2.6</span> Geração de Texto</a></li>
  <li><a href="#eliza-com-python" id="toc-eliza-com-python" class="nav-link" data-scroll-target="#eliza-com-python"><span class="header-section-number">2.7</span> ELIZA com Python</a></li>
  <li><a href="#eliza-com-python-e-gradio" id="toc-eliza-com-python-e-gradio" class="nav-link" data-scroll-target="#eliza-com-python-e-gradio"><span class="header-section-number">2.8</span> ELIZA com Python e Gradio</a></li>
  <li><a href="#cap:AIML" id="toc-cap:AIML" class="nav-link" data-scroll-target="#cap\:AIML"><span class="header-section-number">2.9</span> Artificial Intelligence Markup Language (AIML)</a>
  <ul class="collapse">
  <li><a href="#tags-do-aiml" id="toc-tags-do-aiml" class="nav-link" data-scroll-target="#tags-do-aiml"><span class="header-section-number">2.9.1</span> Tags do AIML</a></li>
  <li><a href="#exemplo-em-python" id="toc-exemplo-em-python" class="nav-link" data-scroll-target="#exemplo-em-python"><span class="header-section-number">2.9.2</span> Exemplo em Python</a></li>
  </ul></li>
  <li><a href="#exercícios" id="toc-exercícios" class="nav-link" data-scroll-target="#exercícios"><span class="header-section-number">2.10</span> Exercícios</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="cap:ELIZA" class="quarto-section-identifier"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">ELIZA e AIML</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="epigraph">
<p>“Somos autómatos em três quartas partes das nossas ações.”</p>
<p>Wilhelm Leibniz</p>
</div>
<div class="myboxobj">
<p>Objetivo Explorar o funcionamento do ELIZA, suas regras de transformação, implementação e legado histórico, evidenciando as bases dos sistemas conversacionais. Além de explicar a linguagem AIML, mostrando como ela possibilitou a construção de chatbots mais robustos e modulares.</p>
</div>
<section id="introdução" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="introdução"><span class="header-section-number">2.1</span> Introdução</h2>
<p>O chatbot ELIZA foi um marco histórico e um dos primeiros programas de processamento de linguagem natural e foi apresentado em 1966 por Joseph Weizenbaum no MIT <span class="citation" data-cites="Weizenbaum1996">[@Weizenbaum1996]</span>.</p>
<p>O conjunto de padrões e respostas predefinidas constitui o que Weizenbaum chamou de “roteiro” (ou script) de conversa. O mecanismo do ELIZA separa o motor de processamento dos dados, sendo o algoritmo de busca de palavras-chave e aplicação de regras, do script em si. Isso significa que ELIZA podia, em teoria, simular diferentes personalidades ou tópicos apenas carregando um script diferente, sem alterar o código do programa (veja na Figura&nbsp;<a href="#fig:elizaeditor" data-reference-type="ref" data-reference="fig:elizaeditor">2.1</a>). Também foi codificado um editor de texto para as alterações do próprio script.</p>
<figure id="fig:elizaeditor" class="figure">
<p>
<img src="./fig/eliza.png" style="width:90.0%" alt="image" class="figure-img"> <span id="fig:elizaeditor" data-label="fig:elizaeditor"></span>
</p>
<figcaption>
Figure 7: ELIZA: separação entre o código fonte, o script e o editor de texto.
</figcaption>
</figure>
<p>Um destes roteiros, o script DOCTOR, deixou o ELIZA famoso. Com este script carregado, o ELIZA simulava precariamente um psicoterapeuta (do estilo Rogeriano), refletindo as palavras do usuário de volta em forma de pergunta.</p>
<p>Na lista abaixo é apresentado um exemplo de diálogo (retirado do artigo original) entre um usuário humano e ELIZA, mostrando as respostas em letras maiúsculas. Nesse exemplo, o usuário faz afirmações pessoais (“<em>Men are all alike.</em>”, “<em>Well, my boyfriend made me come here.</em>”) e ELIZA responde com perguntas ou reformulações (<em>“IN WHAT WAY”</em>, “<em>YOUR BOYFRIEND MADE YOU COME HERE?</em>”) reutilizando termos do próprio usuário. Esse estilo reflexivo encoraja o usuário a continuar falando sem fornecer respostas diretas.</p>
<div class="listing">
<pre class="text"><code>Men are all alike. 
IN WHAT WAY 
They're always bugging us about something or other. 
CAN YOU THINK OF A SPECIFIC EXAMPLE 
Well, my boyfriend made me come here. 
YOUR BOYFRIEND MADE YOU COME HERE 
He says I'm depressed much of the time. 
I AM SORRY TO HEAR YOU ARE DEPRESSED 
It's true. I am unhappy. 
DO YOU THINK COMING HERE WILL HELP YOU NOT TO BE UNHAPPY 
I need some help, that much seems certain. 
WHAT WOULD IT MEAN TO YOU IF YOU GOT SOME HELP 
Perhaps I could learn to get along with my mother. 
TELL ME MORE ABOUT YOUR FAMILY 
My mother takes care of me. 
WHO ELSE IN YOUR FAMILY TAKES CARE OF YOU 
My father. 
YOUR FATHER 
You are like my father in some ways. 
WHAT RESEMBLANCE DO YOU SEE 
You are not very aggressive but I think you don't want me to 
notice that. 
WHAT MAKES YOU THINK I AM NOT VERY AGGRESSIVE 
You don't argue with me. 
WHY DO YOU THINK I DON'T ARGUE WITH YOU 
You are afraid of me. 
DOES IT PLEASE YOU TO BELIEVE I AM AFRAID OF YOU 
My father is afraid of everybody. 
WHAT ELSE COMES TO MIND WHEN YOU THINK OF YOUR FATHER 
Bullies. 
DOES THAT HAVE ANYTHING TO DO WITH THE FACT THAT YOUR BOYFRIEND MADE YOU COME HERE </code></pre>
</div>
</section>
<section id="processamento" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="processamento"><span class="header-section-number">2.2</span> Processamento</h2>
<p>O funcionamento do ELIZA baseia-se em correspondência de padrões por palavras-chave <span class="citation" data-cites="mittmann2021ElizaOZ">[@mittmann2021ElizaOZ]</span>. Técnica também chamada “casamento de padrão”, em inglês <em>pattner matching</em>, seu paradigma também se encaixa na técnica baseada em regras (ou <em>rule-based</em>). A cada turno do diálogo, o texto de entrada do usuário é analisado em busca de palavras-chave predefinidas. O ELIZA faz uma varredura da sentença da esquerda para a direita, identificando se alguma palavra correspondia a uma palavra-chave do script. Caso encontre uma palavra-chave no script, ELIZA empilha essa palavra até o final da frase. Depois, ele seleciona a palavra-chave mais “importante” até encontrar uma pontuação. Para isso, ele mantém uma lista de pesos associados a cada palavra-chave.</p>
<p>Por exemplo, o script DOCTOR definia palavras-chave como “<em>ALIKE</em>” ou “<em>SAME</em>” com alta prioridade; assim, na frase “<em>Men are all alike</em>.” o programa detectava a palavra “<em>ALIKE</em>” e disparava uma resposta associada a ela (no caso: “<em>In what way?</em>”). Se múltiplas palavras-chave aparecessem, ELIZA escolhia aquela de maior peso para formular a resposta.</p>
<p>Primeiro o texto de entrada digitado pelo usuário era separado em palavras, em uma técnica que hoje chamamos de tokenização de palavras, mas que ainda não existia na época. A palavra-chave era identificada, comparando-a sequencialmente até o fim das palavras existentes, ou até ser encontrada uma pontuação. Caso fosse encontrada uma pontuação (ponto final ou vírgula), o texto após a pontuação era ignorado se já tivesse sido identificada uma palavra-chave. Assim, cada processamento da resposta utiliza uma única frase do usuário. Se várias palavras-chave fossem encontradas antes da pontuação, a de maior peso era selecionada.</p>
<p>Por exemplo, o usuário entra com o texto: “<em>I am sick. but, today is raining</em>”. Se houvesse uma palavra-chave no script ranqueando a palavra “<em>SICK</em>” com alta prioridade, a entrada processada seria somente “<em>I am sick</em>”, o restante depois da pontuação (neste caso, o ponto) seria ignorado pelo programa.</p>
<p>Se nenhuma palavra-chave fosse encontrada na entrada, ELIZA recorria a frases genéricas programadas, chamadas de respostas vazias ou sem conteúdo. Nesses casos, o chatbot emitia mensagens do tipo “<em>I see</em>.” ou “<em>Please, go on</em>.”. Esse mecanismo evitava silêncio quando o usuário dizia algo fora do escopo do script.</p>
<p>Além disso, a implementação original incluía uma estrutura de memória: algumas declarações recentes do usuário eram armazenadas e, se uma entrada subsequente não contivesse novas <em>keywords</em>, ELIZA poderia recuperar um tópico anterior e introduzi-lo na conversa. Por exemplo, se o usuário mencionasse família (em inglês <em>family</em>) em um momento e depois fizesse uma afirmação vaga, o programa poderia responder retomando o assunto da família (“<em>DOES THAT HAVE ANYTHING TO DO WITH YOUR FAMILY?</em>”). Essa estratégia dava uma pseudo-continuidade ao diálogo, simulando que o sistema “lembrava” de informações fornecidas anteriormente.</p>
</section>
<section id="regras-de-transformação" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="regras-de-transformação"><span class="header-section-number">2.3</span> Regras de Transformação</h2>
<p>Encontrada a palavra-chave, ELIZA aplicava uma regra de transformação associada a ela para gerar a resposta. As regras são definidas em pares: um padrão de análise (<em>decomposition rule</em>) e um modelo de reconstrução de frase (<em>reassembly rule</em>).</p>
<p>Primeiro, a frase do usuário é decomposta conforme um padrão que identifica a contexto mínimo em torno da palavra-chave. Essa decomposição frequentemente envolve separar a frase em partes e reconhecer pronomes ou estruturas gramaticais relevantes. Por exemplo, considere a entrada “<em>You are very helpful</em>.”. Uma regra de decomposição pode identificar a estrutura “<em>You are X</em>” — onde “<em>X</em>” representa o restante da frase — e extrair o complemento “<em>very helpful</em>” como um componente separado.</p>
<p>Em seguida, a regra de reassembly correspondente é aplicada, remontando uma sentença de resposta em que “X” é inserido em um template pré-definido. No exemplo dado, o template de resposta poderia ser “<em>What makes you think I am X?</em>”; ao inserir X = “<em>very helpful</em>”, gera-se “<em>What makes you think I am very helpful?</em>”. Observe que há uma inversão de pessoa: o pronome “<em>you</em>” do usuário foi trocado por “<em>I</em>” na resposta do bot.</p>
<p>De fato, uma parte importante das transformações do ELIZA envolve substituir pronomes (eu/você, meu/seu) para que a resposta faça sentido como uma frase do ponto de vista do computador falando com o usuário. Esse algoritmo de substituição é relativamente simples (por exemplo, “meu” → “seu”, “eu” → “você”, etc.), mas é essencial para dar a impressão de entendimento gramatical.</p>
<p>Veja no código-fonte abaixo uma parte do conteúdo do arquivo DOCTOR adaptado. A primeira linha REMEMBER 5 estabelece que a prioridade da palavra REMEMBER é 5, caso o usuário entre com uma frase com a palavra REMEMBER, o ELIZA irá responder com uma das perguntas definidas nos parênteses, dentro do nível da palavra REMEMBER. A segunda lista dentro do REMEMBER são as regras de transformação de frases (chamadas de <em>decomposition rule</em> e <em>reassembly rule</em>) associadas à palavra-chave REMEMBER. O mesmo se repete para a palavra IF que tem um peso diferente de REMEMBER.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>(REMEMBER <span class="dv">5</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">0</span> YOU REMEMBER <span class="dv">0</span>) </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>        (DO YOU OFTEN THINK OF <span class="dv">4</span>) </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>        (DOES THINKING OF <span class="op">~</span> BRING ANYTHING ELSE TO MINO) </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>        (WHAT ELSE OO YOU REMEMBER)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>        (WHY DO YOU REMEMBER <span class="dv">4</span> JUST NOW) </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>        (WHAT IN THE PRESENT SITUATION REMINDS YOU OF <span class="dv">4</span>) </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>        (WHAT IS THE CONNECTION BETWEEN ME AND <span class="dv">4</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    ) </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    (</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">0</span> DO I REMEMBER <span class="dv">0</span>) </span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>        (DID YOU THINK I WOULD FORGET <span class="dv">5</span>) </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>        (WHY DO YOU THINK I SHOULD RECALL <span class="dv">5</span> NOW) </span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>        (WHAT ABOUT <span class="dv">5</span>) </span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>        (<span class="op">=</span>WHAT) </span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>        (YOU MENTIONED S)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    ) </span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>(IF <span class="dv">3</span> </span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    (</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">0</span> IF <span class="dv">0</span>) </span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>        (DO YOU THINK ITS LIKELY THAT <span class="dv">3</span>) </span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>        (DO YOU WISH THAT <span class="dv">3</span>) </span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>        (WHAT DO YOU THINK ABOUT <span class="dv">3</span>) </span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>        (REALLY, <span class="dv">2</span> <span class="dv">3</span>)</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="implementação-e-variações" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="implementação-e-variações"><span class="header-section-number">2.4</span> Implementação e Variações</h2>
<p>A implementação original de ELIZA foi feita em uma linguagem chamada MAD-SLIP (um dialeto de Lisp) rodando em um mainframe IBM 7094 no sistema CTSS do MIT. O código-fonte do programa principal continha o mecanismo de correspondência, enquanto as regras de conversação (script DOCTOR) eram fornecidas separadamente em formato de listas associativas, similar a uma lista em Lisp. Infelizmente, Weizenbaum não publicou o código completo no artigo de 1966 (o que era comum na época), mas décadas depois o código em MAD-SLIP foi recuperado nos arquivos do MIT, comprovando os detalhes de implementação <span class="citation" data-cites="Lane2025">[@Lane2025]</span>. De qualquer forma, a arquitetura descrita no artigo influenciou inúmeras reimplementações acadêmicas e didáticas nos anos seguintes.</p>
<p>Diversos entusiastas e pesquisadores reescreveram ELIZA em outras linguagens de programação, dada a simplicidade relativa de seu algoritmo. Ao longo dos anos, surgiram versões em Lisp, PL/I, BASIC, Pascal, Prolog, Java, Python, OZ, JavaScript, entre muitas outras. Cada versão normalmente incluía o mesmo conjunto de regras do script terapeuta ou pequenas variações.</p>
<p>As ideias de ELIZA também inspiraram chatbots mais avançados. Poucos anos depois, em 1972, surgiu PARRY, escrito pelo psiquiatra Kenneth Colby, que simulava um paciente paranoico. PARRY tinha um modelo interno de estado emocional e atitudes, mas na camada de linguagem ainda usava muitas respostas baseadas em regras, chegando a “conversar” com o próprio ELIZA em experimentos da época.</p>
<p>Em 1995, Richard Wallace desenvolveu o chatbot ALICE (Artificial Linguistic Internet Computer Entity), que levava o paradigma de ELIZA a uma escala muito maior. ALICE utilizava um formato XML chamado AIML (Artificial Intelligence Markup Language) para definir milhares de categorias de padrões e respostas. Com mais de 16.000 templates mapeando entradas para saídas <span class="citation" data-cites="Wallace2000">[@Wallace2000]</span>, ALICE conseguia manter diálogos bem mais naturais e abrangentes que o ELIZA original, embora o princípio básico de correspondência de padrões permanecesse. Esse avanço rendeu a ALICE três vitórias no Prêmio Loebner (competição de chatbots) no início dos anos 2000 <span class="citation" data-cites="Wallace2000">[@Wallace2000]</span>.</p>
<p>Outras variações e sucessores notáveis incluem Jabberwacky (1988) – que já aprendia novas frases – e uma profusão de assistentes virtuais e bots de domínio específico nas décadas seguintes <span class="citation" data-cites="Wallace2000">[@Wallace2000]</span>. Em suma, o legado de ELIZA perdurou por meio de inúmeros chatbots baseados em regras, até a transição para abordagens estatísticas e de aprendizado de máquina no final do século XX.</p>
</section>
<section id="mecanismo-de-pesos" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="mecanismo-de-pesos"><span class="header-section-number">2.5</span> Mecanismo de Pesos</h2>
<p>A técnica de ELIZA, baseada em palavras-chave com respostas predefinidas, contrasta fortemente com os métodos de Modelos de Linguagem Grande (LLMs) atuais, como o <em>Generative Pre-trained Transformer</em> (GPT), que utilizam redes neurais de milhões (ou trilhões) de parâmetros e mecanismos de atenção. Mais detalhes sobre LLM no Capítulo&nbsp;<a href="7_modelos-de-linguagem-grande-llm-cap-llm.html" data-reference-type="ref" data-reference="cap:LLM">4</a>.</p>
<p>No ELIZA, a “importância” de uma palavra era determinada manualmente pelo programador através de pesos ou rankings atribuídos a certas palavras-chave no script. Ou seja, o programa não aprendia quais termos focar – ele seguia uma lista fixa de gatilhos. Por exemplo, termos como “sempre” ou “igual” tinham prioridade alta no script DOCTOR para garantir respostas apropriadas.</p>
<p>Em contraste, modelos modernos como o GPT não possuem uma lista fixa de palavras importantes; em vez disso, eles utilizam o mecanismo de <em>self-attention</em> para calcular dinamicamente pesos entre todas as palavras da entrada conforme o contexto <span class="citation" data-cites="vaswani2017attention">[@vaswani2017attention]</span>.</p>
<p>Na arquitetura <em>Transformer</em>, cada palavra (na prática não é uma palavra e sim um <em>token</em>) de entrada gera consultas e chaves que interagem com todas as outras, permitindo ao modelo atribuir pesos maiores às palavras mais relevantes daquela frase ou parágrafo <span class="citation" data-cites="vaswani2017attention">[@vaswani2017attention]</span>. Em outras palavras, o modelo aprende sozinho quais termos ou sequências devem receber mais atenção para produzir a próxima palavra na resposta. Esse mecanismo de atenção captura dependências de longo alcance e nuances contextuais que um sistema de palavras-chave fixas como o ELIZA não consegue representar.</p>
<p>Além disso, o “vocabulário” efetivo de um LLM é imenso – um modelo GPT pode ser treinado com trilhões de palavras e ter ajustado seus parâmetros para modelar estatisticamente a linguagem humana <span class="citation" data-cites="vaswani2017attention">[@vaswani2017attention]</span>. Como resultado, pode-se dizer metaforicamente que os LLMs têm uma lista de “palavras-chave” milhões de vezes maior (na prática, distribuída em vetores contínuos) e um método bem mais sofisticado de calcular respostas do que o ELIZA.</p>
<p>Enquanto ELIZA dependia de coincidências exatas de termos para disparar regras, modelos como GPT avaliam similaridades semânticas e contexto histórico graças às representações densas (embeddings) aprendidas durante o treinamento de rede neural.</p>
</section>
<section id="geração-de-texto" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="geração-de-texto"><span class="header-section-number">2.6</span> Geração de Texto</h2>
<p>Devido à sua abordagem baseada em regras locais, o ELIZA tinha capacidade de contextualização muito limitada. Cada input do usuário era tratado quase isoladamente: o programa não construía uma representação acumulada da conversa, além de artifícios simples como repetir algo mencionado (a estrutura de memória) ou usar pronomes para manter a ilusão de continuidade. Se o usuário mudasse de tópico abruptamente, o ELIZA não “perceberia” – ele apenas buscaria a próxima palavra-chave disponível ou recorreria a frases genéricas.</p>
<p>Em contraste, modelos de linguagem modernos levam em conta um longo histórico de diálogo. Chatbots que usam GPT podem manter um contexto de centenas ou milhares de tokens (palavras ou fragmentos) em sua janela de atenção, o que significa que eles conseguem referenciar informações mencionadas vários parágrafos atrás e integrá-las na resposta corrente. O mecanismo de self-attention, em particular, permite que o modelo incorpore relações contextuais complexas: cada palavra gerada pode considerar influências de palavras distantes no texto de entrada <span class="citation" data-cites="vaswani2017attention">[@vaswani2017attention]</span>.</p>
<p>Por exemplo, ao conversar com um LLM, se você mencionar no início da conversa que tem um irmão chamado Alex e depois perguntar “ele pode me ajudar com o problema?”, o modelo entenderá que “ele” se refere ao Alex mencionado anteriormente (desde que dentro da janela de contexto). Já o ELIZA original não teria como fazer essa ligação, a menos que houvesse uma regra explícita para “ele” e algum armazenamento específico do nome – algo impraticável de antecipar via regras fixas para todos os casos.</p>
<p>Outra diferença está na geração de linguagem. O ELIZA não gera texto original no sentido pleno: suas respostas são em grande parte frases prontas (ou templates fixos) embaralhadas com partes da fala do usuário. Assim, seu vocabulário e estilo são limitados pelo script escrito manualmente. Modelos GPT, por sua vez, geram respostas novas combinando probabilisticamente o conhecimento adquirido de um extenso corpus. Eles não se restringem a repetir trechos da entrada, podendo elaborar explicações, fazer analogias, criar perguntas coerentes com os exemplos linguísticos em sua base de treinamento. Enquanto ELIZA tendia a responder com perguntas genéricas ou devolvendo as palavras do usuário, os LLMs podem produzir respostas informativas e detalhadas sobre o assunto (pois “aprenderam” uma ampla gama de tópicos durante o treinamento). Por exemplo, se perguntarmos algo factual ou complexo, o ELIZA falharia por não ter nenhuma regra a respeito, provavelmente dando uma resposta vazia. Já um modelo como GPT tentará formular uma resposta baseada em padrões linguísticos aprendidos e em conhecimento implícito dos dados, muitas vezes fornecendo detalhes relevantes.</p>
<p>Em termos de fluência e variedade, os modelos modernos superam o ELIZA amplamente. O ELIZA frequentemente se repetia ou caía em loops verbais quando confrontado com inputs fora do roteiro – um limite claro de sistemas por regras estáticas. Os LLMs produzem linguagem muito mais natural e adaptável, a ponto de muitas vezes enganarem os usuários sobre estarem conversando com uma máquina (um efeito buscado desde o Teste de Turing). Ironicamente, ELIZA nos anos 60 já provocou um precursor desse fenômeno – o chamado <em>Efeito ELIZA</em>, em que pessoas atribuem compreensão ou sentimentos a respostas de computador que, na verdade, são superficiais. Hoje, em chatbots GPT, esse efeito se intensifica pela qualidade das respostas, mas a distinção fundamental permanece: ELIZA seguia scripts sem compreender, enquanto LLMs inferem padrões e significados de forma estatística, sem entendimento consciente, mas atingindo resultados que simulam compreensão de maneira muito mais convincente.</p>
<p>Em resumo, os avanços de arquitetura (especialmente o mecanismo de atenção) ampliaram drasticamente a capacidade de contextualização e geração dos chatbots modernos, marcando uma evolução significativa desde o mecanismo simples, porém pioneiro, de ELIZA.</p>
</section>
<section id="eliza-com-python" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="eliza-com-python"><span class="header-section-number">2.7</span> ELIZA com Python</h2>
<p>A seguir o código-fonte de um programa que retorna o que o usuário digitou na linguagem de programação Python, inspirado no paradigma ELIZA.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># método que processa a entrada do usuário</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> response(user_input):</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"Você disse: "</span> <span class="op">+</span> user_input</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Exemplo de uso</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>user_input <span class="op">=</span> <span class="st">"Eu estou feliz"</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Você: </span><span class="sc">{}</span><span class="st">"</span>.<span class="bu">format</span>(user_input))</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Eliza: </span><span class="sc">{}</span><span class="st">"</span>.<span class="bu">format</span>(response(user_input)))</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>user_input <span class="op">=</span> <span class="st">"Eu estou alegre"</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Você: </span><span class="sc">{}</span><span class="st">"</span>.<span class="bu">format</span>(user_input))</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Eliza: </span><span class="sc">{}</span><span class="st">"</span>.<span class="bu">format</span>(response(user_input)))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="listing">
<pre class="text"><code>Você: Eu estou feliz
Eliza: Você disse: Eu estou feliz
Você: Eu estou alegre
Eliza: Você disse: Eu estou alegre</code></pre>
</div>
<p>Este código acima simplesmente repete o que o usuário digita. Ele define a função <em>response</em>, que retorna a string <em>“Você disse:”</em> concatenada ao texto recebido.</p>
<p>Logo abaixo uma implementação um pouco mais robusta de um chatbot inspirado no paradigma ELIZA. Esta implementação demonstra a utilização de expressões regulares - mais sobre expressões regulares no Capítulo&nbsp;<a href="6_processamento-de-linguagem-natural-pln-cap-pln.html" data-reference-type="ref" data-reference="cap:PLN">3</a> - para a identificação de padrões textuais (palavras-chave) na entrada fornecida pelo usuário e a subsequente geração de respostas, fundamentada em regras de transformação predefinidas manualmente.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re  </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random  </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>regras <span class="op">=</span> [</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    (re.<span class="bu">compile</span>(<span class="vs">r'</span><span class="dv">\b</span><span class="kw">(</span><span class="vs">hello</span><span class="cf">|</span><span class="vs">hi</span><span class="cf">|</span><span class="vs">hey</span><span class="kw">)</span><span class="dv">\b</span><span class="vs">'</span>, re.IGNORECASE),</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>     [<span class="st">"Hello. How do you do. Please tell me your problem."</span>]), <span class="co"># regra 1</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    (re.<span class="bu">compile</span>(<span class="vs">r'</span><span class="dv">\b</span><span class="kw">(</span><span class="vs">I am</span><span class="cf">|</span><span class="vs">I</span><span class="ch">\'</span><span class="op">?</span><span class="vs">m</span><span class="kw">)</span><span class="vs"> </span><span class="kw">(</span><span class="dv">.</span><span class="op">+</span><span class="kw">)</span><span class="vs">'</span>, re.IGNORECASE), <span class="co"># regra 2</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>     [<span class="st">"How long have you been </span><span class="sc">{1}</span><span class="st">?"</span>,   </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Why do you think you are </span><span class="sc">{1}</span><span class="st">?"</span>]),</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    (re.<span class="bu">compile</span>(<span class="vs">r'</span><span class="dv">\b</span><span class="vs">I need </span><span class="kw">(</span><span class="dv">.</span><span class="op">+</span><span class="kw">)</span><span class="vs">'</span>, re.IGNORECASE), <span class="co"># regra 3</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>     [<span class="st">"Why do you need </span><span class="sc">{1}</span><span class="st">?"</span>,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Would it really help you to get </span><span class="sc">{1}</span><span class="st">?"</span>]),</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    (re.<span class="bu">compile</span>(<span class="vs">r'</span><span class="dv">\b</span><span class="vs">I can</span><span class="ch">\'</span><span class="op">?</span><span class="vs">t </span><span class="kw">(</span><span class="dv">.</span><span class="op">+</span><span class="kw">)</span><span class="vs">'</span>, re.IGNORECASE), <span class="co"># regra 4</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>     [<span class="st">"What makes you think you can't </span><span class="sc">{1}</span><span class="st">?"</span>,</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Have you tried </span><span class="sc">{1}</span><span class="st">?"</span>]),</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    (re.<span class="bu">compile</span>(<span class="vs">r'</span><span class="dv">\b</span><span class="vs">my </span><span class="kw">(</span><span class="vs">mother</span><span class="cf">|</span><span class="vs">father</span><span class="cf">|</span><span class="vs">mom</span><span class="cf">|</span><span class="vs">dad</span><span class="kw">)</span><span class="dv">\b</span><span class="vs">'</span>, re.IGNORECASE), <span class="co"># regra 5</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>     [<span class="st">"Tell me more about your family."</span>,</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>      <span class="st">"How do you feel about your parents?"</span>]),</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    (re.<span class="bu">compile</span>(<span class="vs">r'</span><span class="dv">\b</span><span class="kw">(</span><span class="vs">sorry</span><span class="kw">)</span><span class="dv">\b</span><span class="vs">'</span>, re.IGNORECASE), <span class="co"># regra 6</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>     [<span class="st">"Please don't apologize."</span>]),</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>    (re.<span class="bu">compile</span>(<span class="vs">r'</span><span class="dv">\b</span><span class="kw">(</span><span class="vs">maybe</span><span class="cf">|</span><span class="vs">perhaps</span><span class="kw">)</span><span class="dv">\b</span><span class="vs">'</span>, re.IGNORECASE), <span class="co"># regra 7</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>     [<span class="st">"You don't seem certain."</span>]),</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>    (re.<span class="bu">compile</span>(<span class="vs">r'</span><span class="dv">\b</span><span class="vs">because</span><span class="dv">\b</span><span class="vs">'</span>, re.IGNORECASE), <span class="co"># regra 8</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>     [<span class="st">"Is that the real reason?"</span>]),</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    (re.<span class="bu">compile</span>(<span class="vs">r'</span><span class="dv">\b</span><span class="kw">(</span><span class="vs">are you</span><span class="cf">|</span><span class="vs">do you</span><span class="kw">)</span><span class="vs"> </span><span class="kw">(</span><span class="dv">.</span><span class="op">+</span><span class="kw">)</span><span class="ch">\?</span><span class="dv">$</span><span class="vs">'</span>, re.IGNORECASE), <span class="co"># regra 9</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>     [<span class="st">"Why do you ask that?"</span>]),</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    (re.<span class="bu">compile</span>(<span class="vs">r'</span><span class="dv">\b</span><span class="vs">computer</span><span class="dv">\b</span><span class="vs">'</span>, re.IGNORECASE), <span class="co"># regra 10</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>     [<span class="st">"Do computers worry you?"</span>]),</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>respostas_padrao <span class="op">=</span> [</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">"I see."</span>,  </span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Please tell me more."</span>,  </span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Can you elaborate on that?"</span>  </span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> response(entrada_usuario):</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> padrao, respostas <span class="kw">in</span> regras:</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>        match <span class="op">=</span> padrao.search( entrada_usuario)  </span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> match:</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>            resposta <span class="op">=</span> random.choice(respostas)</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> match.groups():</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>                resposta <span class="op">=</span> resposta.<span class="bu">format</span>( <span class="op">*</span>match.groups())</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> resposta</span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> random.choice(respostas_padrao)</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"User: Hello."</span>)</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Bot: "</span> <span class="op">+</span> response(<span class="st">"Hello."</span>))</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"User: I am feeling sad."</span>)</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Bot: "</span> <span class="op">+</span> response(<span class="st">"I am feeling sad."</span>))</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Maybe I was not good enough."</span>)</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Bot: "</span> <span class="op">+</span> response(<span class="st">"Maybe I was not good enough."</span>))</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"My mother tried to help."</span>)</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Bot: "</span> <span class="op">+</span> response(<span class="st">"My mother tried to help."</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="listing">
<pre class="text"><code>User: Hello.
Bot: Hello. How do you do. Please tell me your problem.
User: I am feeling sad.
Bot: How long have you been feeling sad.?
Maybe I was not good enough.
Bot: You don't seem certain.
My mother tried to help.
Bot: How do you feel about your parents?</code></pre>
</div>
<p>Na implementação anterior, são definidos múltiplos padrões de expressões regulares que correspondem a palavras-chave ou estruturas frasais de interesse (e.g., saudações, construções como “I am” ou “I need”, referências a termos familiares). A função <code>response</code>, ao receber uma string de entrada, itera sequencialmente sobre essas regras.</p>
<p>Quando uma correspondência (<em>match</em>) é encontrada, uma resposta associada à regra é selecionada. É relevante notar que diversas respostas predefinidas contêm marcadores (<em>placeholders</em>), como <code>{1}</code>. Estes marcadores são dinamicamente substituídos pelo conteúdo dos grupos capturados pela expressão regular (mais detalhes sobre expressão regular no Capítulo&nbsp;<a href="6_processamento-de-linguagem-natural-pln-cap-pln.html" data-reference-type="ref" data-reference="cap:PLN">3</a> na entrada original do usuário). Por exemplo, se a entrada for <em>“I am sad”</em> e esta corresponder a um padrão como <code>r“I am (.*)”</code>, o grupo capturado (<code>(.*)</code>) conterá a string <em>“sad”</em>. Se a resposta associada for <em>“Why do you think you are {1}?”</em>, o sistema a formatará como <em>“Why do you think you are sad?”</em>, substituindo <code>{1}</code> pelo conteúdo do primeiro grupo capturado. Na ausência de correspondência com qualquer regra específica, o sistema seleciona aleatoriamente uma resposta genérica a partir de um conjunto predefinido (denominado, por exemplo, <code>respostas_padrao</code>), tal como <em>“I see.”</em>.</p>
<div class="listing">
<pre class="text"><code>Usuário: Hello
Bot: Hello. How do you do. Please tell me your problem.
Usuário: I am feeling sad
Bot: Why do you think you are feeling sad?
Usuário: Because I lost my job
Bot: Is that the real reason?
Usuário: Maybe I was not good enough.
Bot: You don't seem certain.
Usuário: My mother tried to help.
Bot: Tell me more about your family.</code></pre>
</div>
<p>Observa-se na interação que o chatbot inicialmente respondeu à saudação (<em>“Hello...”</em>) com base na regra 1. Em seguida, a entrada <em>“I am sad”</em> ativou a regra 2, resultando em uma resposta que incorpora o termo <em>“sad”</em>. A interação prossegue com o sistema respondendo a entradas iniciadas por <em>“Because...”</em> (regra 8) e <em>“Maybe...”</em> (regra 7), entre outras. Cada resposta gerada foi determinada pela regra correspondente ativada e pelo conteúdo específico da sentença do usuário, mimetizando o comportamento baseado em padrões do sistema ELIZA original <span class="citation" data-cites="Abdul-Kader2015">[@Abdul-Kader2015]</span>.</p>
</section>
<section id="eliza-com-python-e-gradio" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="eliza-com-python-e-gradio"><span class="header-section-number">2.8</span> ELIZA com Python e Gradio</h2>
<p>Nesta seção, vamos explorar como criar um chatbot usando a biblioteca Gradio e Python.</p>
<p>O Gradio é uma biblioteca de código aberto que permite criar interfaces de usuário para modelos de machine learning de forma rápida e fácil. Com Gradio, você pode criar aplicativos web interativos para visualizar e testar seus modelos, sem precisar de conhecimentos em frontend ou backend.</p>
<p>Antes de começar, certifique-se de ter o Python e o pip instalados em sua máquina. Em seguida, instale a biblioteca Gradio usando o comando:</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pip install gradio</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>À seguir está um exemplo básico de como criar um chatbot com Gradio e Python:</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> gradio <span class="im">as</span> gr</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> chatbot(message, history):</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    resposta <span class="op">=</span> <span class="st">"Olá! Eu sou um chatbot. Como posso ajudar você?"</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> resposta</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>demo <span class="op">=</span> gr.ChatInterface(</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    fn<span class="op">=</span>chatbot,</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Chatbot Simples"</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>demo.launch()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Este código define uma função chatbot que processa o texto de entrada e retorna uma resposta. Em seguida, cria uma interface do chatbot usando a biblioteca Gradio, com um campo de texto para entrada e outro para saída.</p>
<p>Execute o chatbot: Salve o arquivo e, no terminal, navegue até o diretório onde ele está salvo. Digite:</p>
<div class="listing">
<pre class="text"><code>$ python chatbot.py</code></pre>
</div>
<p>Você verá um link local (algo como http://127.0.0.1:7860). Clique nele ou copie e cole no navegador. Uma interface simples aparecerá com um campo de texto. Experimente digitar “olá” ou “tchau” e veja as respostas. Veja na Figura&nbsp;<a href="#fig:chatsimplesgradio" data-reference-type="ref" data-reference="fig:chatsimplesgradio">2.2</a> um print da tela do chatbot já em execução.</p>
<figure id="fig:chatsimplesgradio" class="figure">
<p>
<img src="fig/chatsimplesgradio.png" style="width:90.0%" alt="image" class="figure-img"> <span id="fig:chatsimplesgradio" data-label="fig:chatsimplesgradio"></span>
</p>
<figcaption>
Figure 8: Print do Chatbot.
</figcaption>
</figure>
<p>Adicionando Lógica ao Chatbot: Agora que você tem uma interface básica, é hora de adicionar lógica ao chatbot. Você pode fazer isso adicionando condições e processamento de texto à função chatbot. Por exemplo:</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pip install gradio</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> gradio <span class="im">as</span> gr</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> chatbot(message, history):</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"Olá"</span> <span class="kw">in</span> message:</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>        resposta <span class="op">=</span> <span class="st">"Olá! Eu sou um chatbot. Como posso ajudar você?"</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="st">"Quem é você?"</span> <span class="kw">in</span> message:</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>        resposta <span class="op">=</span> <span class="st">"Eu sou um chatbot criado para ajudar você com suas perguntas."</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>        resposta <span class="op">=</span> <span class="st">"Desculpe, não entendi sua pergunta. Pode tentar novamente?"</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> resposta</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>demo <span class="op">=</span> gr.ChatInterface(</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    fn<span class="op">=</span>chatbot,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Chatbot Simples"</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>demo.launch()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Na Figura&nbsp;<a href="#fig:respaleatoria" data-reference-type="ref" data-reference="fig:respaleatoria">2.3</a> é possível visualizar o print da tela de um chatbot que responde de forma aleatória. Logo abaixo, o código-fonte que deu origem ao chatbot.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pip install gradio</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> gradio <span class="im">as</span> gr</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> chatbot(message, history):</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    respostas <span class="op">=</span> [<span class="st">"Interessante!"</span>, <span class="st">"Hmm, me conte mais!"</span>, <span class="st">"Não sei, mas vou fingir que sim!"</span>]</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"Olá"</span> <span class="kw">in</span> message:</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>        resposta <span class="op">=</span> <span class="st">"Olá! Eu sou um chatbot. Como posso ajudar você?"</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="st">"Quem é você?"</span> <span class="kw">in</span> message:</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>        resposta <span class="op">=</span> <span class="st">"Eu sou um chatbot criado para ajudar você com suas perguntas."</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>        resposta <span class="op">=</span> random.choice(respostas)        </span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> resposta</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>demo <span class="op">=</span> gr.ChatInterface(</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>    fn<span class="op">=</span>chatbot,</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Chatbot Simples"</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>demo.launch()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<figure id="fig:respaleatoria" class="figure">
<p>
<img src="fig/gradio2.png" style="width:90.0%" alt="image" class="figure-img"> <span id="fig:respaleatoria" data-label="fig:respaleatoria"></span>
</p>
<figcaption>
Figure 9: Print do chatbot com respostas aleatórias e um pouco de lógica Conclusão.
</figcaption>
</figure>
<p>Criar um chatbot com Gradio e Python é uma tarefa relativamente simples e rápida. Com essa biblioteca, você pode criar interfaces de usuário interativas para seus modelos de aprendizagem de máquina e criar chatbots para automação de tarefas ou suporte ao cliente. Este é apenas um exemplo básico, e você pode adicionar mais lógica e funcionalidades ao seu chatbot para torná-lo mais útil.</p>
</section>
<section id="cap:AIML" class="level2" data-number="2.9">
<h2 data-number="2.9" class="anchored" data-anchor-id="cap:AIML"><span class="header-section-number">2.9</span> Artificial Intelligence Markup Language (AIML)</h2>
<p>Décadas depois do Eliza, as técnicas de programação avançaram, surgiu a web e as linguagens de marcação como o HTML ganharam tração. É neste cenário que é criado o Artificial Intelligence Markup Language (AIML), uma especificação baseada em XML, proposta por <span class="citation" data-cites="Wallace2009">@Wallace2009</span>, destinada à programação de chatbots. A concepção da linguagem prioriza o minimalismo, característica que simplifica o processo de criação de bases de conhecimento por indivíduos sem experiência prévia em programação <span class="citation" data-cites="Wallace2009">[@Wallace2009]</span>. A arquitetura fundamental de um interpretador AIML genérico é ilustrada na Figura&nbsp;<a href="#fig:interpretador" data-reference-type="ref" data-reference="fig:interpretador">2.4</a>.</p>
<figure id="fig:interpretador" class="figure">
<p>
<img src="./fig/aimlbase.png" style="width:80.0%" alt="image" class="figure-img"> <span id="fig:interpretador" data-label="fig:interpretador"></span>
</p>
<figcaption>
Figure 10: Interpretador AIML arquitetura.<br> Adaptado de <span class="citation" data-cites="Silva2007">(A. C. da Silva and Costa 2007)</span>
</figcaption>
</figure>
<p>A técnica central empregada pelo AIML é a correspondência de padrões (<em>pattern matching</em>). Este método é amplamente utilizado no desenvolvimento de chatbots, particularmente em sistemas orientados a perguntas e respostas <span class="citation" data-cites="Abdul-Kader2015">[@Abdul-Kader2015]</span>. Uma das metas de projeto do AIML é possibilitar a fusão de bases de conhecimento de múltiplos chatbots especializados em domínios distintos. Teoricamente, um interpretador poderia agregar essas bases, eliminando automaticamente categorias redundantes para formar um <em>chatbot</em> mais abrangente <span class="citation" data-cites="Wallace2000">[@Wallace2000]</span>.</p>
<p>AIML é frequentemente associado aos chatbots de terceira geração <span class="citation" data-cites="Maria2010">[@Maria2010]</span> e estima-se sua adoção em mais de 50.000 implementações em diversos idiomas. Extensões da linguagem foram propostas, como o iAIML, que introduziu novas <em>tags</em> e incorporou o conceito de intenção com base nos princípios da Teoria da Análise da Conversação <span class="citation" data-cites="Neves2005">[@Neves2005]</span>. Adicionalmente, ferramentas baseadas na Web foram desenvolvidas para apoiar a construção de bases de conhecimento AIML <span class="citation" data-cites="Krassmann2017">[@Krassmann2017]</span>. Um exemplo proeminente é o <em>chatbot</em> ALICE, cuja implementação em AIML compreendia aproximadamente 16.000 categorias, cada uma potencialmente contendo múltiplas <em>tags</em> XML aninhadas <span class="citation" data-cites="Wallace2000">[@Wallace2000]</span>. Uma representação visual desta estrutura de conhecimento é apresentada na Figura&nbsp;<a href="#fig:representacaovisual" data-reference-type="ref" data-reference="fig:representacaovisual">2.5</a>.</p>
<figure id="fig:representacaovisual" class="figure">
<p>
<img src="./fig/image9.png" style="width:90.0%" alt="image" class="figure-img"> <span id="fig:representacaovisual" data-label="fig:representacaovisual"></span>
</p>
<figcaption>
Figure 11: Representação visual da base de conhecimento do chatbot ALICE.<br> Retirado de <span class="citation" data-cites="Wallace2003">(R. Wallace 2003)</span>
</figcaption>
</figure>
<p><span class="citation" data-cites="Wallace2000">@Wallace2000</span> estabeleceu analogias entre o funcionamento de interpretadores AIML e a teoria do Raciocínio Baseado em Casos (RBC). Nessa perspectiva, as categorias AIML funcionam como “casos”, onde o algoritmo identifica o padrão que melhor se alinha à entrada do usuário. Cada categoria estabelece um vínculo direto entre um padrão de estímulo e um modelo de resposta. Consequentemente, chatbots AIML inserem-se na tradição da robótica minimalista, reativa ou de estímulo-resposta <span class="citation" data-cites="Wallace2000">[@Wallace2000]</span>, conforme esquematizado na Figura&nbsp;<a href="#fig:teoriaestimulo" data-reference-type="ref" data-reference="fig:teoriaestimulo">2.6</a>. Vale notar que a própria técnica de RBC já foi integrada a interpretadores AIML como um mecanismo para consultar fontes de dados externas e expandir a base de conhecimento do agente <span class="citation" data-cites="Kraus2008">[@Kraus2008]</span>.</p>
<figure id="fig:teoriaestimulo" class="figure">
<p>
<img src="./fig/image10.png" style="width:90.0%" alt="image" class="figure-img"> <span id="fig:teoriaestimulo" data-label="fig:teoriaestimulo"></span>
</p>
<figcaption>
Figure 12: Teoria estímulo-resposta aplicada no AIML.<br> Retirado de <span class="citation" data-cites="Lima2017">(Lima 2017)</span>.
</figcaption>
</figure>
<p>Os chatbots que utilizam AIML são classificados como sistemas “baseados em recuperação” (retrieval-based). Tais modelos operam a partir de um repositório de respostas predefinidas, selecionando a mais apropriada com base na entrada do usuário e no contexto conversacional, guiando assim o fluxo da interação. Esta abordagem é frequentemente empregada na construção de chatbots destinados a operar em domínios de conhecimento restritos <span class="citation" data-cites="borah2018survey">[@borah2018survey]</span>.</p>
<p>O código-fonte à seguir, demonstra a estrutura elementar de um arquivo AIML. A <em>tag</em> <code>&lt;category&gt;</code> encapsula a unidade básica de conhecimento. Internamente, a <em>tag</em> <code>&lt;pattern&gt;</code> define o padrão de entrada a ser reconhecido (no exemplo, o caractere curinga <code>*</code>, que corresponde a qualquer entrada), enquanto a <em>tag</em> <code>&lt;template&gt;</code> contém a resposta associada. No exemplo ilustrado, o <em>chatbot</em> responderia “Hello!” a qualquer interação. Uma visão abstrata da árvore de conhecimento resultante pode ser observada logo abaixo. O AIML padrão suporta transições baseadas primariamente em correspondência de padrões, uma limitação inerente, embora extensões específicas de interpretadores possam permitir a integração de outras técnicas de processamento.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">aiml</span>&gt;</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">category</span>&gt;</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">pattern</span>&gt;*&lt;/<span class="kw">pattern</span>&gt;</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">template</span>&gt;Hello!&lt;/<span class="kw">template</span>&gt;</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">category</span>&gt;</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">aiml</span>&gt;</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<figure id="fig:representacaovisualabstrata" class="figure">
<p>
<img src="./fig/image12.png" style="width:70.0%" alt="image" class="figure-img"> <span id="fig:representacaovisualabstrata" data-label="fig:representacaovisualabstrata"></span>
</p>
<figcaption>
Figure 13: Representação visual abstrata de uma base de conhecimento AIML.<br> Retirado de <a href="https://www.pandorabots.com/docs/aiml-fundamentals/" class="uri">https://www.pandorabots.com/docs/aiml-fundamentals/</a>
</figcaption>
</figure>
<p>O profissional responsável pela criação, manutenção e curadoria da base de conhecimento de um <em>chatbot</em> AIML é denominado <em>botmaster</em> <span class="citation" data-cites="Wallace2000">[@Wallace2000]</span>. Suas atribuições englobam a edição da base (frequentemente via ferramentas auxiliares), a análise de logs de diálogo para identificar padrões de interação e a subsequente criação ou refino de respostas. Este papel pode ser exercido por indivíduos com diferentes perfis, incluindo <em>webmasters</em>, desenvolvedores, redatores, engenheiros ou outros interessados na construção de chatbots <span class="citation" data-cites="Wallace2000">[@Wallace2000]</span>.</p>
<p>Algumas implementações de interpretadores AIML podem incorporar capacidades rudimentares de compreensão semântica através do <em>Resource Description Framework</em> (RDF)[^1]. O RDF é um padrão W3C para representação de informações na Web, usualmente por meio de triplas (sujeito-predicado-objeto) que descrevem relações entre entidades. No contexto AIML, RDF pode ser utilizado para armazenar e consultar fatos. Contudo, mesmo com tais adições, as capacidades linguísticas permanecem aquém da complexidade e do potencial gerativo da linguagem humana, conforme descrito por <span class="citation" data-cites="chomsky2002syntactic">@chomsky2002syntactic</span>.</p>
<p>Embora <span class="citation" data-cites="Hohn2019">@Hohn2019</span> argumente que o AIML padrão carece de um conceito explícito de “intenção” (<em>intent</em>), similar ao encontrado em plataformas de <em>Natural Language Understanding</em> (NLU), é possível emular o reconhecimento de intenções. Isso é tipicamente alcançado definindo categorias que representam “formas canônicas” ou “padrões atômicos” para uma intenção específica[^2]. Variações de entrada (e.g., “oi”, “olá”) podem ser mapeadas para uma categoria canônica (e.g., “saudação”) usando a <em>tag</em> <code>&lt;srai&gt;</code> (<em>Symbolic Reduction Artificial Intelligence</em>), que redireciona o fluxo de processamento (ver Figura&nbsp;<a href="#fig:sodatagsrai" data-reference-type="ref" data-reference="fig:sodatagsrai">2.8</a>). Dessa forma, um <em>chatbot</em> AIML pode gerenciar intenções distintas dentro de seu domínio, como realizar um pedido ou verificar o status de entrega.</p>
<figure id="fig:sodatagsrai" class="figure">
<p>
<img src="./fig/image13.png" style="width:50.0%" alt="image" class="figure-img"> <span id="fig:sodatagsrai" data-label="fig:sodatagsrai"></span>
</p>
<figcaption>
Figure 14: Uso da tag <code>&lt;srai&gt;</code>.<br> Retirado de <span class="citation" data-cites="DeGasperis2013">(De Gasperis, Chiari, and Florio 2013)</span>
</figcaption>
</figure>
<p>Os chatbots baseados em AIML têm obtido sucesso significativo em competições como o Prêmio Loebner. Notavelmente, o chatbot Mitsuku[^3], desenvolvido por Steve Worswick, conquistou múltiplos títulos [^4], seguindo vitórias anteriores do ALICE <span class="citation" data-cites="Wallace2000">[@Wallace2000]</span>.</p>
<p>Adicionalmente, Mitsuku foi classificado em primeiro lugar numa análise comparativa envolvendo oito chatbots <span class="citation" data-cites="Sharma2020">[@Sharma2020]</span>. Nesse estudo, que avaliou atributos conversacionais com base em um conjunto padronizado de perguntas, o Google Assistant obteve a segunda posição, seguido pela Siri em terceiro. O <em>chatbot</em> ALICE alcançou a quarta posição, enquanto o ELIZA ficou na última colocação entre os sistemas comparados <span class="citation" data-cites="Sharma2020">[@Sharma2020]</span>.</p>
<section id="tags-do-aiml" class="level3" data-number="2.9.1">
<h3 data-number="2.9.1" class="anchored" data-anchor-id="tags-do-aiml"><span class="header-section-number">2.9.1</span> Tags do AIML</h3>
<p>Esta seção descreve as principais tags do AIML, versão 1.0.</p>
<section id="aiml" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="aiml"><code>&lt;aiml&gt;</code></h4>
<p>No contexto de AIML (Artificial Intelligence Markup Language), a tag &lt;aiml&gt; é usada para definir o início de um documento AIML que contém os padrões e respostas que um motor de chatbot deve usar. Ela envolve todo o documento, indicando que o conteúdo entre as tags &lt;aiml&gt; é escrito em AIML.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">aiml</span><span class="ot"> version=</span><span class="st">"1.0"</span>&gt;</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">&lt;!-- Categorias aqui --&gt;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">aiml</span>&gt;</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="category" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="category"><code>&lt;category&gt;</code></h4>
<p><strong>Descrição:</strong> Unidade básica de conhecimento, contendo um padrão e uma resposta.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">category</span>&gt;</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">pattern</span>&gt;OLÁ&lt;/<span class="kw">pattern</span>&gt;</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">template</span>&gt;Oi! Como posso ajudar você hoje?&lt;/<span class="kw">template</span>&gt;</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">category</span>&gt;</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="pattern" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="pattern"><code>&lt;pattern&gt;</code></h4>
<p><strong>Descrição:</strong> Define o padrão de entrada do usuário, com curingas como <code>*</code> e <code>_</code>.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">category</span>&gt;</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">pattern</span>&gt;EU GOSTO DE *&lt;/<span class="kw">pattern</span>&gt;</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">template</span>&gt;Que bom que você gosta de &lt;<span class="kw">star</span>/&gt;!&lt;/<span class="kw">template</span>&gt;</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">category</span>&gt;</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="template" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="template"><code>&lt;template&gt;</code></h4>
<p><strong>Descrição:</strong> Define a resposta do bot ao padrão correspondente.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">category</span>&gt;</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">pattern</span>&gt;QUAL É O SEU NOME&lt;/<span class="kw">pattern</span>&gt;</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">template</span>&gt;Meu nome é neo chatbot.&lt;/<span class="kw">template</span>&gt;</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">category</span>&gt; </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="star" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="star"><code>&lt;star/&gt;</code></h4>
<p><strong>Descrição:</strong> Captura o conteúdo do curinga <code>*</code> ou <code>_</code>.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">category</span>&gt;</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">pattern</span>&gt;MEU NOME É *&lt;/<span class="kw">pattern</span>&gt;</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">template</span>&gt;Olá, &lt;<span class="kw">star</span>/&gt;!&lt;/<span class="kw">template</span>&gt;</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">category</span>&gt;</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="that" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="that"><code>&lt;that&gt;</code></h4>
<p><strong>Descrição:</strong> Considera a última resposta do bot para decidir a próxima.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb19"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">category</span>&gt;</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">pattern</span>&gt;SIM&lt;/<span class="kw">pattern</span>&gt;</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">that</span>&gt;Você gosta de programar?&lt;/<span class="kw">that</span>&gt;</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">template</span>&gt;Ótimo! Qual linguagem você prefere?&lt;/<span class="kw">template</span>&gt;</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">category</span>&gt;</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="topic" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="topic"><code>&lt;topic&gt;</code></h4>
<p><strong>Descrição:</strong> Define um contexto ou tópico para categorias.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb20"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">category</span>&gt;</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">pattern</span>&gt;VAMOS FALAR SOBRE ESPORTE&lt;/<span class="kw">pattern</span>&gt;</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">template</span>&gt;Ok! &lt;<span class="kw">topic</span><span class="ot"> name=</span><span class="st">"esporte"</span>/&gt;&lt;/<span class="kw">template</span>&gt;</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">category</span>&gt;</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="random-e-li" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="random-e-li"><code>&lt;random&gt;</code> e <code>&lt;li&gt;</code></h4>
<p><strong>Descrição:</strong> Escolhe aleatoriamente uma resposta de uma lista.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">category</span>&gt;</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">pattern</span>&gt;COMO ESTÁ O TEMPO&lt;/<span class="kw">pattern</span>&gt;</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">template</span>&gt;</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">random</span>&gt;</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">li</span>&gt;Está ensolarado!&lt;/<span class="kw">li</span>&gt;</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">li</span>&gt;Está chovendo.&lt;/<span class="kw">li</span>&gt;</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">random</span>&gt;</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">template</span>&gt;</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">category</span>&gt;</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="condition" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="condition"><code>&lt;condition&gt;</code></h4>
<p><strong>Descrição:</strong> Adiciona lógica condicional baseada em variáveis.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb22"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">category</span>&gt;</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">pattern</span>&gt;COMO EU ESTOU&lt;/<span class="kw">pattern</span>&gt;</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">template</span>&gt;</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">condition</span><span class="ot"> name=</span><span class="st">"humor"</span>&gt;</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">li</span><span class="ot"> value=</span><span class="st">"feliz"</span>&gt;Você está bem!&lt;/<span class="kw">li</span>&gt;</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>      &lt;<span class="kw">li</span>&gt;Não sei ainda!&lt;/<span class="kw">li</span>&gt;</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">condition</span>&gt;</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">template</span>&gt;</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">category</span>&gt;</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="set-e-get" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="set-e-get"><code>&lt;set&gt;</code> e <code>&lt;get&gt;</code></h4>
<p><strong>Descrição:</strong> Define e recupera variáveis.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb23"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">category</span>&gt;</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">pattern</span>&gt;MEU NOME É *&lt;/<span class="kw">pattern</span>&gt;</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">template</span>&gt;</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">set</span><span class="ot"> name=</span><span class="st">"nome"</span>&gt;&lt;<span class="kw">star</span>/&gt;&lt;/<span class="kw">set</span>&gt;Olá, &lt;<span class="kw">get</span><span class="ot"> name=</span><span class="st">"nome"</span>/&gt;!</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">template</span>&gt;</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">category</span>&gt;</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="srai" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="srai"><code>&lt;srai&gt;</code></h4>
<p><strong>Descrição:</strong> Redireciona a entrada para outro padrão.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb24"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">category</span>&gt;</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">pattern</span>&gt;OI&lt;/<span class="kw">pattern</span>&gt;</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">template</span>&gt;&lt;<span class="kw">srai</span>&gt;OLÁ&lt;/<span class="kw">srai</span>&gt;&lt;/<span class="kw">template</span>&gt;</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">category</span>&gt;</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="think" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="think"><code>&lt;think&gt;</code></h4>
<p><strong>Descrição:</strong> Executa ações sem exibir o conteúdo.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb25"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">category</span>&gt;</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">pattern</span>&gt;EU SOU TRISTE&lt;/<span class="kw">pattern</span>&gt;</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">template</span>&gt;</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">think</span>&gt;&lt;<span class="kw">set</span><span class="ot"> name=</span><span class="st">"humor"</span>&gt;triste&lt;/<span class="kw">set</span>&gt;&lt;/<span class="kw">think</span>&gt;Sinto muito!</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">template</span>&gt;</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">category</span>&gt;</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="person-person2-gender" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="person-person2-gender"><code>&lt;person&gt;</code>, <code>&lt;person2&gt;</code>, <code>&lt;gender&gt;</code></h4>
<p><strong>Descrição:</strong> Transforma pronomes ou ajusta gênero.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb26"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">category</span>&gt;</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">pattern</span>&gt;EU TE AMO&lt;/<span class="kw">pattern</span>&gt;</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">template</span>&gt;&lt;<span class="kw">person</span>&gt;&lt;<span class="kw">star</span>/&gt;&lt;/<span class="kw">person</span>&gt; ama você também!&lt;/<span class="kw">template</span>&gt;</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">category</span>&gt;</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="formal-uppercase-lowercase" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="formal-uppercase-lowercase"><code>&lt;formal&gt;</code>, <code>&lt;uppercase&gt;</code>, <code>&lt;lowercase&gt;</code></h4>
<p><strong>Descrição:</strong> Formata texto (capitaliza, maiúsculas, minúsculas).</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb27"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">category</span>&gt;</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">pattern</span>&gt;MEU NOME É joão&lt;/<span class="kw">pattern</span>&gt;</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">template</span>&gt;Olá, &lt;<span class="kw">formal</span>&gt;&lt;<span class="kw">star</span>/&gt;&lt;/<span class="kw">formal</span>&gt;!&lt;/<span class="kw">template</span>&gt;</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">category</span>&gt;</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="sentence" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sentence"><code>&lt;sentence&gt;</code></h4>
<p><strong>Descrição:</strong> Formata como frase (primeira letra maiúscula, ponto final).</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb28"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">category</span>&gt;</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">pattern</span>&gt;oi&lt;/<span class="kw">pattern</span>&gt;</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">template</span>&gt;&lt;<span class="kw">sentence</span>&gt;&lt;<span class="kw">star</span>/&gt;&lt;/<span class="kw">sentence</span>&gt;&lt;/<span class="kw">template</span>&gt;</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">category</span>&gt;</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="exemplo-em-python" class="level3" data-number="2.9.2">
<h3 data-number="2.9.2" class="anchored" data-anchor-id="exemplo-em-python"><span class="header-section-number">2.9.2</span> Exemplo em Python</h3>
<p>A seguir um exemplo do uso de um interpretador AIML em Python. O arquivo “cerebro.aiml” deve existir anteriormente. Use uma versão compatível com a biblioteca aiml que é somente compatível com versões antigas do Python, do Python 3.6 para trás, ou seja, não funciona no Python 3.12.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pip install aiml</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> aiml</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Criar kernel (núcleo do bot)</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>kernel <span class="op">=</span> aiml.Kernel()</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>cerebro_aiml_text <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;aiml version="1.0.1" encoding="UTF-8"&gt;</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;category&gt;</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;pattern&gt;OI&lt;/pattern&gt;</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;template&gt;Olá! Como posso ajudar você?&lt;/template&gt;</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;/category&gt;</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;category&gt;</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;pattern&gt;OBRIGADO&lt;/pattern&gt;</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;template&gt;De nada!&lt;/template&gt;</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;/category&gt;</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/aiml&gt;</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Salvar o conteúdo AIML em um arquivo</span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"cerebro.aiml"</span>, <span class="st">"w"</span>, encoding<span class="op">=</span><span class="st">"utf-8"</span>) <span class="im">as</span> f:</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>    f.write(cerebro_aiml_text)</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Carregar o arquivo AIML</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>kernel.learn(<span class="st">"cerebro.aiml"</span>)</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop de conversa</span></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>    user_input <span class="op">=</span> <span class="bu">input</span>(<span class="st">"Você: "</span>)</span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> user_input.lower() <span class="kw">in</span> [<span class="st">"sair"</span>, <span class="st">"exit"</span>, <span class="st">"quit"</span>]:</span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> kernel.respond(user_input)</span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Bot:"</span>, response)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="listing">
<pre class="text"><code>Você: oi
Bot: Olá! Como posso ajudar você?</code></pre>
</div>
<p>O arquivo std-startup.xml é um ponto de partida e geralmente carrega outros arquivos .aiml.</p>
<div class="listing">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb31"><pre class="sourceCode xml code-with-copy"><code class="sourceCode xml"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">aiml</span><span class="ot"> version=</span><span class="st">"1.0.1"</span><span class="ot"> encoding=</span><span class="st">"UTF-8"</span>&gt;</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">category</span>&gt;</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">pattern</span>&gt;OI&lt;/<span class="kw">pattern</span>&gt;</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">template</span>&gt;Olá! Como posso te ajudar?&lt;/<span class="kw">template</span>&gt;</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">category</span>&gt;</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">category</span>&gt;</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">pattern</span>&gt;QUAL SEU NOME&lt;/<span class="kw">pattern</span>&gt;</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">template</span>&gt;Eu sou um chatbot em AIML.&lt;/<span class="kw">template</span>&gt;</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">category</span>&gt;</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">aiml</span>&gt;</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="exercícios" class="level2" data-number="2.10">
<h2 data-number="2.10" class="anchored" data-anchor-id="exercícios"><span class="header-section-number">2.10</span> Exercícios</h2>
<ol type="1">
<li><p><strong>Assinale a alternativa que melhor descreve a principal diferença entre um chatbot conversacional e um chatbot orientado a tarefas:</strong></p>
<ol type="1">
<li><p>O chatbot conversacional utiliza apenas regras, enquanto o orientado a tarefas utiliza apenas redes neurais.</p></li>
<li><p>O chatbot conversacional busca manter diálogo aberto, enquanto o orientado a tarefas segue fluxos específicos para executar ações.</p></li>
<li><p>Chatbots orientados a tarefas não podem utilizar linguagem natural.</p></li>
<li><p>Chatbots conversacionais não podem responder perguntas sobre assuntos gerais.</p></li>
</ol></li>
<li><p><strong>Sobre o ELIZA, marque a alternativa correta:</strong></p>
<ol type="1">
<li><p>Utilizava redes neurais profundas e mecanismos de autoatenção.</p></li>
<li><p>Interpretava semanticamente as frases do usuário com compreensão profunda.</p></li>
<li><p>Baseava-se em regras simples e padrões para reformular entradas do usuário.</p></li>
<li><p>Possuía memória de longo prazo para manter contexto amplo de conversa.</p></li>
</ol></li>
<li><p><strong>A arquitetura <em>Transformers</em>, introduzida em 2017, é caracterizada principalmente por:</strong></p>
<ol type="1">
<li><p>Utilizar sequências fixas de regras pré-programadas.</p></li>
<li><p>Empregar mecanismos de autoatenção para avaliar relações entre palavras.</p></li>
<li><p>Substituir completamente qualquer forma de treinamento com dados.</p></li>
<li><p>Impedir o uso de modelos generativos em tarefas de diálogo.</p></li>
</ol></li>
<li><p><strong>Qual a definição de Artificial Intelligence Markup Language (ou AIML):</strong></p>
<ol type="1">
<li><p>Uma linguagem de marcação baseada em XML para construção de chatbots por correspondência de padrões.</p></li>
<li><p>Um algoritmo estatístico baseado em cadeias de Markov.</p></li>
<li><p>Uma técnica de aprendizado profundo utilizada em modelos generativos.</p></li>
<li><p>Uma ferramenta exclusiva para chatbots multimodais.</p></li>
</ol></li>
<li><p><strong>De acordo com a discussão sobre agentes, qual das alternativas caracteriza corretamente um “agente” no contexto apresentado?</strong></p>
<ol type="1">
<li><p>Um programa capaz apenas de gerar texto sem interagir com o ambiente.</p></li>
<li><p>Uma entidade computacional que percebe seu ambiente e atua por meio de sensores e atuadores.</p></li>
<li><p>Um sistema que realiza exclusivamente tarefas bancárias automatizadas.</p></li>
<li><p>Qualquer modelo de linguagem de grande porte, independentemente de suas capacidades.</p></li>
</ol></li>
<li><p><strong>Explique em que sentido um chatbot pode ser entendido como uma instanciação específica de um agente. Em sua resposta, (a) apresente uma definição de chatbot, (b) apresente uma definição de agente e (c) discuta as diferenças e sobreposições entre esses conceitos, incluindo a distinção entre sistemas que apenas conversam e sistemas que também utilizam ferramentas externas (como navegação na Web, execução de código e interação com APIs).</strong></p></li>
<li><p><strong>Compare os chatbots ELIZA e ChatGPT considerando pelo menos quatro aspectos: (a) período histórico e contexto de surgimento, (b) técnica ou abordagem principal utilizada para gerar respostas, (c) tipo de tarefa ou objetivo conversacional para o qual foram concebidos e (d) limitações em termos de compreensão de linguagem, contexto e emoções. Finalize discutindo por que ambos podem ser classificados como chatbots conversacionais.</strong></p></li>
<li><p><strong>Diferencie chatbots conversacionais e chatbots orientados a tarefas, ilustrando sua resposta com exemplos. Em seguida, analise o papel do <em>fluxo conversacional</em> nesses sistemas: descreva como fluxos de diálogo (por exemplo, árvores de decisão e fluxos de perguntas e respostas) são empregados em chatbots orientados a tarefas, e comente sobre como esses fluxos se relacionam com conceitos da Análise da Conversação, como tópicos conversacionais e coerência entre turnos.</strong></p></li>
<li><p><strong>Apresente e discuta a evolução das abordagens tecnológicas para a construção de chatbots, partindo de sistemas baseados em correspondência de padrões (como ELIZA e AIML/ALICE) até modelos neurais modernos baseados em <em>Transformers</em> e LLMs (como BERT, GPT e outros modelos recentes listados no capítulo). Em sua resposta, destaque: (a) a ideia central de cada abordagem, (b) vantagens e desvantagens principais e (c) impactos dessa evolução na qualidade das interações com os usuários.</strong></p></li>
<li><p><strong>Desenvolva um texto em que você (a) explique por que um chatbot, mesmo avançado, não pode ser considerado pensante nos mesmos termos que um humano, (b) descreva problemas práticos de construção e manutenção de chatbots (por exemplo, complexidade de fluxos condicionais, atualização de conhecimento, dificuldade de visualização de diálogos complexos) e (c) discuta o papel de ferramentas de autoria <em>no-code</em> na tentativa de tornar o desenvolvimento de chatbots mais acessível a usuários sem formação em programação.</strong></p></li>
</ol>


</section>

</main> <!-- /main -->
﻿<script>
(function () {
  function isTypingTarget(el) {
    if (!el) return false;
    var tag = el.tagName ? el.tagName.toLowerCase() : '';
    return tag === 'input' || tag === 'textarea' || tag === 'select' || el.isContentEditable;
  }

  function findLink(rel, fallbackSelector) {
    var byRel = document.querySelector('a[rel="' + rel + '"]');
    if (byRel) return byRel;
    return document.querySelector(fallbackSelector);
  }

  document.addEventListener('keydown', function (e) {
    if (e.defaultPrevented) return;
    if (isTypingTarget(e.target)) return;

    if (e.key === 'ArrowRight') {
      var nextLink = findLink('next', '.nav-page-next a');
      if (nextLink && nextLink.href) {
        window.location.href = nextLink.href;
      }
    } else if (e.key === 'ArrowLeft') {
      var prevLink = findLink('prev', '.nav-page-previous a');
      if (prevLink && prevLink.href) {
        window.location.href = prevLink.href;
      }
    }
  });
})();
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/giseldo\.github\.io\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../sections/4_introdu-o.html" class="pagination-link" aria-label="Introdução">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introdução</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../sections/6_processamento-de-linguagem-natural-pln-cap-pln.html" class="pagination-link" aria-label="Processamento de Linguagem Natural (PLN)">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Processamento de Linguagem Natural (PLN)</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Processamento de Linguagem Natural foi escrito por Giseldo Neo e Alana Neo.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Este html foi gerado com o <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>